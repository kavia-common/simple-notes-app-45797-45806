{"is_source_file": true, "format": "TypeScript", "description": "This file implements server-side and client-side logic for managing notes, including in-memory and localStorage-backed persistence, as well as CRUD operations for notes.", "external_files": ["~/types/note"], "external_methods": ["crypto.randomUUID"], "published": ["listNotes", "getNote", "createNote", "updateNote", "deleteNote"], "classes": [], "methods": [{"name": "export function listNotes(): Note[] { listNotes", "description": "Returns all notes sorted by most recent update.", "scope": "", "scopeKind": ""}, {"name": "export function getNote(id: string): Note | undefined { getNote", "description": "Retrieves a single note by its ID.", "scope": "", "scopeKind": ""}, {"name": "export function createNote(payload: { title?: string; content?: string }): Note { createNote", "description": "Creates a new note with optional title and content.", "scope": "", "scopeKind": ""}, {"name": "export function updateNote( updateNote", "description": "Updates an existing note identified by ID with new title/content.", "scope": "", "scopeKind": ""}, {"name": "export function deleteNote(id: string): boolean { deleteNote", "description": "Deletes a note by its ID.", "scope": "", "scopeKind": ""}, {"name": "function isBrowser(): boolean { isBrowser", "description": "Determines whether the environment is a browser.", "scope": "", "scopeKind": ""}, {"name": "function getStore(): Record<string, Note> { getStore", "description": "Retrieves the current note store, from localStorage or in-memory fallback.", "scope": "", "scopeKind": ""}, {"name": "function setStore(store: Record<string, Note>) { setStore", "description": "Saves the current note store to localStorage or in-memory fallback.", "scope": "", "scopeKind": ""}, {"name": "function cryptoRandomId(): string { cryptoRandomId", "description": "Generates a cryptographically secure unique ID for notes.", "scope": "", "scopeKind": ""}], "calls": ["getStore", "setStore", "Date.now", "crypto.randomUUID", "JSON.parse", "JSON.stringify"], "search-terms": ["notes CRUD", "localStorage notes store", "SSR notes", "note management", "notes app"], "state": 2, "file_id": 13, "knowledge_revision": 28, "git_revision": "", "ctags": [{"_type": "tag", "name": "LS_KEY", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^const LS_KEY = \"notes-app:data\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "all", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^  const all = Object.values(getStore());$/", "language": "TypeScript", "kind": "constant", "scope": "listNotes", "scopeKind": "function"}, {"_type": "tag", "name": "createNote", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^export function createNote(payload: { title?: string; content?: string }): Note {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "cryptoRandomId", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^function cryptoRandomId(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^export function deleteNote(id: string): boolean {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "existing", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^  const existing = store[id];$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "getNote", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^export function getNote(id: string): Note | undefined {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getStore", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^function getStore(): Record<string, Note> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^  const existing = store[id];$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^  const id = cryptoRandomId();$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "isBrowser", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^function isBrowser(): boolean {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "listNotes", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^export function listNotes(): Note[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "memoryStore", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^let memoryStore: Record<string, Note> = {};$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^  const note: Note = {$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "now", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^  const now = Date.now();$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "parsed", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^    const parsed = JSON.parse(raw) as Record<string, Note>;$/", "language": "TypeScript", "kind": "constant", "scope": "getStore", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^    const raw = window.localStorage.getItem(LS_KEY);$/", "language": "TypeScript", "kind": "constant", "scope": "getStore", "scopeKind": "function"}, {"_type": "tag", "name": "setStore", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^function setStore(store: Record<string, Note>) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "store", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^  const store = getStore();$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "store", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^  const store = getStore();$/", "language": "TypeScript", "kind": "constant", "scope": "deleteNote", "scopeKind": "function"}, {"_type": "tag", "name": "store", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^  const store = getStore();$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^    title: (payload.title ?? \"\").trim() || \"Untitled\",$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^    title: payload.title !== undefined && payload.title.trim().length > 0 ? payload.title : exis/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "updateNote", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^export function updateNote($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "updated", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45797-45806/notes_app_frontend/app/lib/notes.server.ts", "pattern": "/^  const updated: Note = {$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}], "hash": "3e0d1a4450dc8f8078174a3c60792367", "format-version": 4, "code-base-name": "notes_app_frontend", "filename": "notes_app_frontend/app/lib/notes.server.ts", "fields": [{"name": "let memoryStore: Record<string, Note> = {};", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"28": ""}]}